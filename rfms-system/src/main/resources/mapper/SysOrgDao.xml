<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.hxls.system.dao.SysOrgDao">

	<select id="getList" resultType="com.hxls.system.entity.SysOrgEntity">
		select t1.*, (select t2.name from sys_org t2 where t2.code = t1.pcode) parentName from sys_org t1 where t1.deleted = 0
			order by t1.sort asc
	</select>

	<select id="getIdAndPidList" resultType="com.hxls.system.entity.SysOrgEntity">
		select t1.code, t1.pcode from sys_org t1 where t1.deleted = 0
	</select>

	<select id="getIdsByCodes" resultType="java.lang.Long">
		SELECT id FROM sys_org WHERE code IN
		<foreach item="item" collection="subOrgCodeList" open="(" separator="," close=")">
			#{item}
		</foreach>
	</select>


</mapper>
